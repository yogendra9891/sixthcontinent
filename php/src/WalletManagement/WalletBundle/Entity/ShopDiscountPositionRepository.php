<?php

namespace WalletManagement\WalletBundle\Entity;

use Doctrine\ORM\EntityRepository;

/**
 * ShopDiscountPositionRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ShopDiscountPositionRepository extends EntityRepository
{
    /**
     * finding the shop wallet discount position
     * @param int $shop_id
     */
    public function getShopWalletDiscountPosition($shop_id) {
        //object of query builder.
        $qb = $this->createQueryBuilder('c');
        $qb->select('c.totalDp as total_doscount_position, c.balanceDp as balance_discount_position')
                ->where('c.shopId=:shop_id')
                ->setParameter('shop_id', $shop_id);
        $query = $qb->getQuery();
        $response = $query->getResult();
        return $response;
    } 
}
