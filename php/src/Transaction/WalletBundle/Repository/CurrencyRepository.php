<?php

namespace Transaction\WalletBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * CurrencyRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class CurrencyRepository extends EntityRepository
{
    
    public function getValueBaseCurrency($currency_label, $amount) {
        
       $result = $this->getEntityManager()
                    ->createQuery("
                            SELECT c.baseToCurrencyRatio from Transaction\WalletBundle\Entity\Currency c
                            where c.currencyLabel=:currencyLabel 
                            order by c.id Desc
                            ")
                    ->setParameter(":currencyLabel", $currency_label)
                    ->setMaxResults(1)
                    ->getSingleResult();

        return ($result["baseToCurrencyRatio"]*$amount) ;
                
        
        
    }
}
