<?php

namespace Transaction\TransactionBundle\Repository;

use Doctrine\ODM\MongoDB\DocumentRepository;

/**
 * RecurringPaymentLogMongoRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class RecurringPaymentLogMongoRepository extends DocumentRepository
{
   /**
    * 
    * @param type $shop_id
    * @return boolean
    */
    public function updateRecurringPaymentLog($shop_id){
            $shop_id_arr = array((int)$shop_id);
            
            $this->createQueryBuilder('RecurringPaymentLog')
                    ->update()
                    ->multiple(true)
                    ->field('status')->set(0)
                    ->field('shop_id')->in($shop_id_arr)
                    ->getQuery()
                    ->execute();
            
          return true;
    }
}